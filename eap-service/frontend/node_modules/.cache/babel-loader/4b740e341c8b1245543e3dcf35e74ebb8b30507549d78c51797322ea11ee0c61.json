{"ast":null,"code":"import _objectSpread from\"C:/Users/newsh/test-project/eap-service/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NotificationBell=_ref=>{let{userRole}=_ref;const[notifications,setNotifications]=useState([]);const[unreadCount,setUnreadCount]=useState(0);const[showDropdown,setShowDropdown]=useState(false);const[loading,setLoading]=useState(false);useEffect(()=>{if(userRole==='counselor'||userRole==='super-admin'){fetchUnreadCount();// 30초마다 읽지 않은 알림 수 확인\nconst interval=setInterval(fetchUnreadCount,30000);return()=>clearInterval(interval);}},[userRole]);const fetchUnreadCount=async()=>{try{const token=localStorage.getItem('token');const response=await axios.get('http://localhost:3000/api/notifications/unread-count',{headers:{Authorization:\"Bearer \".concat(token)}});if(response.data.success){setUnreadCount(response.data.unreadCount);}}catch(error){console.error('읽지 않은 알림 수 조회 오류:',error);}};const fetchNotifications=async()=>{if(loading)return;try{setLoading(true);const token=localStorage.getItem('token');const response=await axios.get('http://localhost:3000/api/notifications?limit=10',{headers:{Authorization:\"Bearer \".concat(token)}});if(response.data.success){setNotifications(response.data.notifications);}}catch(error){console.error('알림 목록 조회 오류:',error);}finally{setLoading(false);}};const markAsRead=async notificationId=>{try{const token=localStorage.getItem('token');await axios.put(\"http://localhost:3000/api/notifications/\".concat(notificationId,\"/read\"),{},{headers:{Authorization:\"Bearer \".concat(token)}});setNotifications(prev=>prev.map(notif=>notif._id===notificationId?_objectSpread(_objectSpread({},notif),{},{isRead:true}):notif));setUnreadCount(prev=>Math.max(0,prev-1));}catch(error){console.error('알림 읽음 처리 오류:',error);}};const markAllAsRead=async()=>{try{const token=localStorage.getItem('token');await axios.put('http://localhost:3000/api/notifications/mark-all-read',{},{headers:{Authorization:\"Bearer \".concat(token)}});setNotifications(prev=>prev.map(notif=>_objectSpread(_objectSpread({},notif),{},{isRead:true})));setUnreadCount(0);}catch(error){console.error('모든 알림 읽음 처리 오류:',error);}};const handleBellClick=()=>{setShowDropdown(!showDropdown);if(!showDropdown){fetchNotifications();}};const getNotificationIcon=type=>{switch(type){case'dispute_submitted':return'⚠️';case'dispute_resolved':return'✅';case'assignment_new':return'📋';case'payment_processed':return'💰';case'system_announcement':return'📢';default:return'🔔';}};const formatTimeAgo=dateString=>{const date=new Date(dateString);const now=new Date();const diffInMinutes=Math.floor((now.getTime()-date.getTime())/(1000*60));if(diffInMinutes<1)return'방금 전';if(diffInMinutes<60)return\"\".concat(diffInMinutes,\"\\uBD84 \\uC804\");if(diffInMinutes<1440)return\"\".concat(Math.floor(diffInMinutes/60),\"\\uC2DC\\uAC04 \\uC804\");return\"\".concat(Math.floor(diffInMinutes/1440),\"\\uC77C \\uC804\");};// 상담사나 Super Admin이 아니면 알림 벨 표시하지 않음\nif(userRole!=='counselor'&&userRole!=='super-admin'){return null;}return/*#__PURE__*/_jsxs(\"div\",{style:{position:'relative',display:'inline-block'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleBellClick,style:{background:'none',border:'none',cursor:'pointer',position:'relative',padding:'8px',borderRadius:'50%',display:'flex',alignItems:'center',justifyContent:'center',fontSize:'20px'},children:[\"\\uD83D\\uDD14\",unreadCount>0&&/*#__PURE__*/_jsx(\"span\",{style:{position:'absolute',top:'2px',right:'2px',backgroundColor:'#f44336',color:'white',borderRadius:'50%',fontSize:'11px',padding:'2px 6px',minWidth:'18px',height:'18px',display:'flex',alignItems:'center',justifyContent:'center'},children:unreadCount>99?'99+':unreadCount})]}),showDropdown&&/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',top:'100%',right:'0',backgroundColor:'white',border:'1px solid #ddd',borderRadius:'8px',boxShadow:'0 4px 12px rgba(0,0,0,0.1)',width:'350px',maxHeight:'400px',overflowY:'auto',zIndex:1000},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'15px',borderBottom:'1px solid #eee',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:0,fontSize:'16px',color:'#333'},children:\"\\uC54C\\uB9BC\"}),unreadCount>0&&/*#__PURE__*/_jsx(\"button\",{onClick:markAllAsRead,style:{background:'none',border:'none',color:'#1976d2',cursor:'pointer',fontSize:'12px'},children:\"\\uBAA8\\uB450 \\uC77D\\uC74C\"})]}),/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(\"div\",{style:{padding:'20px',textAlign:'center',color:'#666'},children:\"\\uB85C\\uB529 \\uC911...\"}):notifications.length===0?/*#__PURE__*/_jsx(\"div\",{style:{padding:'20px',textAlign:'center',color:'#666'},children:\"\\uC0C8\\uB85C\\uC6B4 \\uC54C\\uB9BC\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"}):notifications.map(notification=>/*#__PURE__*/_jsx(\"div\",{onClick:()=>!notification.isRead&&markAsRead(notification._id),style:{padding:'12px 15px',borderBottom:'1px solid #f0f0f0',cursor:notification.isRead?'default':'pointer',backgroundColor:notification.isRead?'white':'#f8f9ff',':hover':{backgroundColor:notification.isRead?'#f8f9fa':'#f0f2ff'}},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'flex-start',gap:'10px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:'16px',flexShrink:0},children:getNotificationIcon(notification.type)}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,minWidth:0},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:notification.isRead?'normal':'bold',fontSize:'13px',color:'#333',marginBottom:'4px'},children:notification.title}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',color:'#666',lineHeight:'1.3',marginBottom:'4px',overflow:'hidden',textOverflow:'ellipsis',display:'-webkit-box',WebkitLineClamp:2,WebkitBoxOrient:'vertical'},children:notification.message}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'11px',color:'#999',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"span\",{children:formatTimeAgo(notification.createdAt)}),notification.sender&&/*#__PURE__*/_jsxs(\"span\",{children:[\"by \",notification.sender.name]})]})]}),!notification.isRead&&/*#__PURE__*/_jsx(\"div\",{style:{width:'8px',height:'8px',borderRadius:'50%',backgroundColor:'#1976d2',flexShrink:0}})]})},notification._id))}),notifications.length>0&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'10px 15px',textAlign:'center',borderTop:'1px solid #eee'},children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowDropdown(false);// 전체 알림 페이지로 이동하는 로직 추가 가능\n},style:{background:'none',border:'none',color:'#1976d2',cursor:'pointer',fontSize:'12px'},children:\"\\uBAA8\\uB4E0 \\uC54C\\uB9BC \\uBCF4\\uAE30\"})})]}),showDropdown&&/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,right:0,bottom:0,zIndex:999},onClick:()=>setShowDropdown(false)})]});};export default NotificationBell;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","NotificationBell","_ref","userRole","notifications","setNotifications","unreadCount","setUnreadCount","showDropdown","setShowDropdown","loading","setLoading","fetchUnreadCount","interval","setInterval","clearInterval","token","localStorage","getItem","response","get","headers","Authorization","concat","data","success","error","console","fetchNotifications","markAsRead","notificationId","put","prev","map","notif","_id","_objectSpread","isRead","Math","max","markAllAsRead","handleBellClick","getNotificationIcon","type","formatTimeAgo","dateString","date","Date","now","diffInMinutes","floor","getTime","style","position","display","children","onClick","background","border","cursor","padding","borderRadius","alignItems","justifyContent","fontSize","top","right","backgroundColor","color","minWidth","height","boxShadow","width","maxHeight","overflowY","zIndex","borderBottom","margin","textAlign","length","notification","gap","flexShrink","flex","fontWeight","marginBottom","title","lineHeight","overflow","textOverflow","WebkitLineClamp","WebkitBoxOrient","message","createdAt","sender","name","borderTop","left","bottom"],"sources":["C:/Users/newsh/test-project/eap-service/frontend/src/components/Notifications/NotificationBell.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\ninterface Notification {\n  _id: string;\n  type: string;\n  title: string;\n  message: string;\n  isRead: boolean;\n  createdAt: string;\n  sender?: {\n    name: string;\n    role: string;\n  };\n  data?: any;\n}\n\ninterface NotificationBellProps {\n  userRole: string;\n}\n\nconst NotificationBell: React.FC<NotificationBellProps> = ({ userRole }) => {\n  const [notifications, setNotifications] = useState<Notification[]>([]);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const [showDropdown, setShowDropdown] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (userRole === 'counselor' || userRole === 'super-admin') {\n      fetchUnreadCount();\n      // 30초마다 읽지 않은 알림 수 확인\n      const interval = setInterval(fetchUnreadCount, 30000);\n      return () => clearInterval(interval);\n    }\n  }, [userRole]);\n\n  const fetchUnreadCount = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get('http://localhost:3000/api/notifications/unread-count', {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      \n      if (response.data.success) {\n        setUnreadCount(response.data.unreadCount);\n      }\n    } catch (error) {\n      console.error('읽지 않은 알림 수 조회 오류:', error);\n    }\n  };\n\n  const fetchNotifications = async () => {\n    if (loading) return;\n    \n    try {\n      setLoading(true);\n      const token = localStorage.getItem('token');\n      const response = await axios.get('http://localhost:3000/api/notifications?limit=10', {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      \n      if (response.data.success) {\n        setNotifications(response.data.notifications);\n      }\n    } catch (error) {\n      console.error('알림 목록 조회 오류:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const markAsRead = async (notificationId: string) => {\n    try {\n      const token = localStorage.getItem('token');\n      await axios.put(`http://localhost:3000/api/notifications/${notificationId}/read`, {}, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      \n      setNotifications(prev => prev.map(notif =>\n        notif._id === notificationId ? { ...notif, isRead: true } : notif\n      ));\n      \n      setUnreadCount(prev => Math.max(0, prev - 1));\n    } catch (error) {\n      console.error('알림 읽음 처리 오류:', error);\n    }\n  };\n\n  const markAllAsRead = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      await axios.put('http://localhost:3000/api/notifications/mark-all-read', {}, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      \n      setNotifications(prev => prev.map(notif => ({ ...notif, isRead: true })));\n      setUnreadCount(0);\n    } catch (error) {\n      console.error('모든 알림 읽음 처리 오류:', error);\n    }\n  };\n\n  const handleBellClick = () => {\n    setShowDropdown(!showDropdown);\n    if (!showDropdown) {\n      fetchNotifications();\n    }\n  };\n\n  const getNotificationIcon = (type: string) => {\n    switch (type) {\n      case 'dispute_submitted':\n        return '⚠️';\n      case 'dispute_resolved':\n        return '✅';\n      case 'assignment_new':\n        return '📋';\n      case 'payment_processed':\n        return '💰';\n      case 'system_announcement':\n        return '📢';\n      default:\n        return '🔔';\n    }\n  };\n\n  const formatTimeAgo = (dateString: string) => {\n    const date = new Date(dateString);\n    const now = new Date();\n    const diffInMinutes = Math.floor((now.getTime() - date.getTime()) / (1000 * 60));\n    \n    if (diffInMinutes < 1) return '방금 전';\n    if (diffInMinutes < 60) return `${diffInMinutes}분 전`;\n    if (diffInMinutes < 1440) return `${Math.floor(diffInMinutes / 60)}시간 전`;\n    return `${Math.floor(diffInMinutes / 1440)}일 전`;\n  };\n\n  // 상담사나 Super Admin이 아니면 알림 벨 표시하지 않음\n  if (userRole !== 'counselor' && userRole !== 'super-admin') {\n    return null;\n  }\n\n  return (\n    <div style={{ position: 'relative', display: 'inline-block' }}>\n      {/* 알림 벨 */}\n      <button\n        onClick={handleBellClick}\n        style={{\n          background: 'none',\n          border: 'none',\n          cursor: 'pointer',\n          position: 'relative',\n          padding: '8px',\n          borderRadius: '50%',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          fontSize: '20px'\n        }}\n      >\n        🔔\n        {unreadCount > 0 && (\n          <span style={{\n            position: 'absolute',\n            top: '2px',\n            right: '2px',\n            backgroundColor: '#f44336',\n            color: 'white',\n            borderRadius: '50%',\n            fontSize: '11px',\n            padding: '2px 6px',\n            minWidth: '18px',\n            height: '18px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center'\n          }}>\n            {unreadCount > 99 ? '99+' : unreadCount}\n          </span>\n        )}\n      </button>\n\n      {/* 알림 드롭다운 */}\n      {showDropdown && (\n        <div style={{\n          position: 'absolute',\n          top: '100%',\n          right: '0',\n          backgroundColor: 'white',\n          border: '1px solid #ddd',\n          borderRadius: '8px',\n          boxShadow: '0 4px 12px rgba(0,0,0,0.1)',\n          width: '350px',\n          maxHeight: '400px',\n          overflowY: 'auto',\n          zIndex: 1000\n        }}>\n          {/* 헤더 */}\n          <div style={{\n            padding: '15px',\n            borderBottom: '1px solid #eee',\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center'\n          }}>\n            <h4 style={{ margin: 0, fontSize: '16px', color: '#333' }}>알림</h4>\n            {unreadCount > 0 && (\n              <button\n                onClick={markAllAsRead}\n                style={{\n                  background: 'none',\n                  border: 'none',\n                  color: '#1976d2',\n                  cursor: 'pointer',\n                  fontSize: '12px'\n                }}\n              >\n                모두 읽음\n              </button>\n            )}\n          </div>\n\n          {/* 알림 목록 */}\n          <div>\n            {loading ? (\n              <div style={{ padding: '20px', textAlign: 'center', color: '#666' }}>\n                로딩 중...\n              </div>\n            ) : notifications.length === 0 ? (\n              <div style={{ padding: '20px', textAlign: 'center', color: '#666' }}>\n                새로운 알림이 없습니다.\n              </div>\n            ) : (\n              notifications.map((notification) => (\n                <div\n                  key={notification._id}\n                  onClick={() => !notification.isRead && markAsRead(notification._id)}\n                  style={{\n                    padding: '12px 15px',\n                    borderBottom: '1px solid #f0f0f0',\n                    cursor: notification.isRead ? 'default' : 'pointer',\n                    backgroundColor: notification.isRead ? 'white' : '#f8f9ff',\n                    ':hover': {\n                      backgroundColor: notification.isRead ? '#f8f9fa' : '#f0f2ff'\n                    }\n                  }}\n                >\n                  <div style={{ display: 'flex', alignItems: 'flex-start', gap: '10px' }}>\n                    <span style={{ fontSize: '16px', flexShrink: 0 }}>\n                      {getNotificationIcon(notification.type)}\n                    </span>\n                    <div style={{ flex: 1, minWidth: 0 }}>\n                      <div style={{\n                        fontWeight: notification.isRead ? 'normal' : 'bold',\n                        fontSize: '13px',\n                        color: '#333',\n                        marginBottom: '4px'\n                      }}>\n                        {notification.title}\n                      </div>\n                      <div style={{\n                        fontSize: '12px',\n                        color: '#666',\n                        lineHeight: '1.3',\n                        marginBottom: '4px',\n                        overflow: 'hidden',\n                        textOverflow: 'ellipsis',\n                        display: '-webkit-box',\n                        WebkitLineClamp: 2,\n                        WebkitBoxOrient: 'vertical'\n                      }}>\n                        {notification.message}\n                      </div>\n                      <div style={{\n                        fontSize: '11px',\n                        color: '#999',\n                        display: 'flex',\n                        justifyContent: 'space-between',\n                        alignItems: 'center'\n                      }}>\n                        <span>{formatTimeAgo(notification.createdAt)}</span>\n                        {notification.sender && (\n                          <span>by {notification.sender.name}</span>\n                        )}\n                      </div>\n                    </div>\n                    {!notification.isRead && (\n                      <div style={{\n                        width: '8px',\n                        height: '8px',\n                        borderRadius: '50%',\n                        backgroundColor: '#1976d2',\n                        flexShrink: 0\n                      }} />\n                    )}\n                  </div>\n                </div>\n              ))\n            )}\n          </div>\n\n          {/* 푸터 */}\n          {notifications.length > 0 && (\n            <div style={{\n              padding: '10px 15px',\n              textAlign: 'center',\n              borderTop: '1px solid #eee'\n            }}>\n              <button\n                onClick={() => {\n                  setShowDropdown(false);\n                  // 전체 알림 페이지로 이동하는 로직 추가 가능\n                }}\n                style={{\n                  background: 'none',\n                  border: 'none',\n                  color: '#1976d2',\n                  cursor: 'pointer',\n                  fontSize: '12px'\n                }}\n              >\n                모든 알림 보기\n              </button>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* 드롭다운 외부 클릭 시 닫기 */}\n      {showDropdown && (\n        <div\n          style={{\n            position: 'fixed',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            zIndex: 999\n          }}\n          onClick={() => setShowDropdown(false)}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default NotificationBell;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}