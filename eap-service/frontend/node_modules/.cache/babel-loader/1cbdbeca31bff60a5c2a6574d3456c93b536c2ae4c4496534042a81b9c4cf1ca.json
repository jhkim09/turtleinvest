{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import axios from'axios';import Login from'./pages/Login.tsx';import Register from'./pages/Register.tsx';import Dashboard from'./pages/Dashboard.tsx';import ManagerDashboard from'./pages/ManagerDashboard.tsx';import CounselorDashboard from'./pages/CounselorDashboard.tsx';import CompanyAdminDashboard from'./pages/CompanyAdminDashboard.tsx';import SuperAdminDashboard from'./pages/SuperAdminDashboard.tsx';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[user,setUser]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{checkAuthStatus();},[]);const checkAuthStatus=async()=>{const token=localStorage.getItem('token');if(token){try{const response=await axios.get('http://localhost:3000/api/users/profile',{headers:{Authorization:\"Bearer \".concat(token)}});setUser(response.data);}catch(error){localStorage.removeItem('token');}}setLoading(false);};const handleLogin=userData=>{setUser(userData);};const handleLogout=()=>{setUser(null);};if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'100vh',display:'flex',alignItems:'center',justifyContent:'center',backgroundColor:'#f5f5f5'},children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:'#333'},children:\"EAP Service \\uB85C\\uB529 \\uC911...\"}),/*#__PURE__*/_jsx(\"div\",{style:{width:'50px',height:'50px',border:'3px solid #f3f3f3',borderTop:'3px solid #1976d2',borderRadius:'50%',animation:'spin 1s linear infinite',margin:'20px auto'}})]})});}return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:user?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true}):/*#__PURE__*/_jsx(Login,{onLogin:handleLogin})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:user?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true}):/*#__PURE__*/_jsx(Register,{onLogin:handleLogin})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:user?/*#__PURE__*/_jsx(Dashboard,{user:user,onLogout:handleLogout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/manager\",element:user?/*#__PURE__*/_jsx(ManagerDashboard,{user:user,onLogout:handleLogout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/counselor\",element:user?/*#__PURE__*/_jsx(CounselorDashboard,{user:user,onLogout:handleLogout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/company-admin\",element:user?/*#__PURE__*/_jsx(CompanyAdminDashboard,{user:user,onLogout:handleLogout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/super-admin\",element:user?/*#__PURE__*/_jsx(SuperAdminDashboard,{user:user,onLogout:handleLogout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})})]})})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","axios","Login","Register","Dashboard","ManagerDashboard","CounselorDashboard","CompanyAdminDashboard","SuperAdminDashboard","jsx","_jsx","jsxs","_jsxs","App","user","setUser","loading","setLoading","checkAuthStatus","token","localStorage","getItem","response","get","headers","Authorization","concat","data","error","removeItem","handleLogin","userData","handleLogout","style","minHeight","display","alignItems","justifyContent","backgroundColor","children","textAlign","color","width","height","border","borderTop","borderRadius","animation","margin","className","path","element","to","replace","onLogin","onLogout"],"sources":["C:/Users/newsh/test-project/eap-service/frontend/src/App.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport axios from 'axios';\nimport Login from './pages/Login.tsx';\nimport Register from './pages/Register.tsx';\nimport Dashboard from './pages/Dashboard.tsx';\nimport ManagerDashboard from './pages/ManagerDashboard.tsx';\nimport CounselorDashboard from './pages/CounselorDashboard.tsx';\nimport CompanyAdminDashboard from './pages/CompanyAdminDashboard.tsx';\nimport SuperAdminDashboard from './pages/SuperAdminDashboard.tsx';\n\nfunction App() {\n  const [user, setUser] = useState<any>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    checkAuthStatus();\n  }, []);\n\n  const checkAuthStatus = async () => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      try {\n        const response = await axios.get('http://localhost:3000/api/users/profile', {\n          headers: { Authorization: `Bearer ${token}` }\n        });\n        setUser(response.data);\n      } catch (error) {\n        localStorage.removeItem('token');\n      }\n    }\n    setLoading(false);\n  };\n\n  const handleLogin = (userData: any) => {\n    setUser(userData);\n  };\n\n  const handleLogout = () => {\n    setUser(null);\n  };\n\n\n  if (loading) {\n    return (\n      <div style={{ \n        minHeight: '100vh', \n        display: 'flex', \n        alignItems: 'center', \n        justifyContent: 'center',\n        backgroundColor: '#f5f5f5'\n      }}>\n        <div style={{ textAlign: 'center' }}>\n          <h2 style={{ color: '#333' }}>EAP Service 로딩 중...</h2>\n          <div style={{ \n            width: '50px', \n            height: '50px', \n            border: '3px solid #f3f3f3',\n            borderTop: '3px solid #1976d2',\n            borderRadius: '50%',\n            animation: 'spin 1s linear infinite',\n            margin: '20px auto'\n          }}></div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Routes>\n          <Route\n            path=\"/login\"\n            element={\n              user ? <Navigate to=\"/dashboard\" replace /> : <Login onLogin={handleLogin} />\n            }\n          />\n          <Route\n            path=\"/register\"\n            element={\n              user ? <Navigate to=\"/dashboard\" replace /> : <Register onLogin={handleLogin} />\n            }\n          />\n          <Route\n            path=\"/dashboard\"\n            element={\n              user ? <Dashboard user={user} onLogout={handleLogout} /> : <Navigate to=\"/login\" replace />\n            }\n          />\n          <Route\n            path=\"/manager\"\n            element={\n              user ? <ManagerDashboard user={user} onLogout={handleLogout} /> : <Navigate to=\"/login\" replace />\n            }\n          />\n          <Route\n            path=\"/counselor\"\n            element={\n              user ? <CounselorDashboard user={user} onLogout={handleLogout} /> : <Navigate to=\"/login\" replace />\n            }\n          />\n          <Route\n            path=\"/company-admin\"\n            element={\n              user ? <CompanyAdminDashboard user={user} onLogout={handleLogout} /> : <Navigate to=\"/login\" replace />\n            }\n          />\n          <Route\n            path=\"/super-admin\"\n            element={\n              user ? <SuperAdminDashboard user={user} onLogout={handleLogout} /> : <Navigate to=\"/login\" replace />\n            }\n          />\n          <Route path=\"/\" element={<Navigate to=\"/login\" replace />} />\n        </Routes>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}